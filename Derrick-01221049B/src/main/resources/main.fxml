<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.collections.FXCollections?>
<?import java.lang.String?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns="http://javafx.com/javafx/25"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.template.ui.mainController"
            style="-fx-background-color: #f1f5f9;">

    <!-- ================= HEADER ================= -->
    <top>
        <HBox alignment="CENTER"
              style="-fx-padding: 30;
                     -fx-background-color: linear-gradient(to right, #2563eb, #1d4ed8);">

            <Label text="University Student Portal"
                   style="-fx-text-fill: white;
                          -fx-font-size: 30px;
                          -fx-font-weight: bold;" />
        </HBox>
    </top>

    <!-- ================= MAIN CONTENT ================= -->
    <center>
        <VBox spacing="25"
              style="-fx-padding: 30;">

            <!-- ================= FORM SECTION ================= -->
            <GridPane hgap="20" vgap="18"
                      style="-fx-background-color: white;
                             -fx-padding: 30;
                             -fx-background-radius: 20;
                             -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 20, 0.3, 0, 6);">

                <Label text="Registration ID" GridPane.rowIndex="0" GridPane.columnIndex="0"/>
                <TextField fx:id="studentIdField" GridPane.rowIndex="0" GridPane.columnIndex="1"/>

                <Label text="Student Name" GridPane.rowIndex="1" GridPane.columnIndex="0"/>
                <TextField fx:id="nameField" GridPane.rowIndex="1" GridPane.columnIndex="1"/>

                <Label text="Course" GridPane.rowIndex="2" GridPane.columnIndex="0"/>
                <TextField fx:id="programmeField" GridPane.rowIndex="2" GridPane.columnIndex="1"/>

                <Label text="Year Level" GridPane.rowIndex="3" GridPane.columnIndex="0"/>
                <TextField fx:id="levelField" GridPane.rowIndex="3" GridPane.columnIndex="1"/>

                <Label text="Average Score" GridPane.rowIndex="4" GridPane.columnIndex="0"/>
                <TextField fx:id="gpaField" GridPane.rowIndex="4" GridPane.columnIndex="1"/>

                <Label text="Email Address" GridPane.rowIndex="5" GridPane.columnIndex="0"/>
                <TextField fx:id="emailField" GridPane.rowIndex="5" GridPane.columnIndex="1"/>

                <Label text="Contact Number" GridPane.rowIndex="6" GridPane.columnIndex="0"/>
                <TextField fx:id="phoneField" GridPane.rowIndex="6" GridPane.columnIndex="1"/>

                <Label text="Enrollment Status" GridPane.rowIndex="7" GridPane.columnIndex="0"/>
                <ComboBox fx:id="statusBox" GridPane.rowIndex="7" GridPane.columnIndex="1"/>

            </GridPane>

            <!-- ================= BUTTON SECTION ================= -->
            <HBox spacing="20" alignment="CENTER">

                <Button text="Save Record"
                        onAction="#handleAddStudent"
                        style="-fx-background-color: #16a34a;
                               -fx-text-fill: white;
                               -fx-font-weight: bold;
                               -fx-background-radius: 20;
                               -fx-padding: 10 20 10 20;" />

                <Button text="Modify Record"
                        onAction="#handleEditStudent"
                        style="-fx-background-color: #f59e0b;
                               -fx-text-fill: white;
                               -fx-font-weight: bold;
                               -fx-background-radius: 20;
                               -fx-padding: 10 20 10 20;" />

                <Button text="Remove Record"
                        onAction="#handleDeleteStudent"
                        style="-fx-background-color: #dc2626;
                               -fx-text-fill: white;
                               -fx-font-weight: bold;
                               -fx-background-radius: 20;
                               -fx-padding: 10 20 10 20;" />

                <Button text="Refresh List"
                        onAction="#handleRefresh"
                        style="-fx-background-color: #2563eb;
                               -fx-text-fill: white;
                               -fx-font-weight: bold;
                               -fx-background-radius: 20;
                               -fx-padding: 10 20 10 20;" />

                <Button text="Generate Report"
                        onAction="#handleOpenReportWindow"
                        style="-fx-background-color: #7c3aed;
                               -fx-text-fill: white;
                               -fx-font-weight: bold;
                               -fx-background-radius: 20;
                               -fx-padding: 10 20 10 20;" />
            </HBox>

            <!-- ================= REPORT OPTIONS ================= -->
            <HBox spacing="15"
                  alignment="CENTER"
                  style="-fx-background-color: white;
                         -fx-padding: 20;
                         -fx-background-radius: 15;
                         -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.05), 10, 0.2, 0, 3);">

                <Label text="Minimum Score:"/>
                <TextField fx:id="gpaThresholdField" prefWidth="100"/>

                <Label text="Order By:"/>

                <ComboBox fx:id="sortByComboBox" prefWidth="120">
                    <items>
                        <FXCollections fx:factory="observableArrayList">
                            <String fx:value="Name"/>
                            <String fx:value="GPA"/>
                        </FXCollections>
                    </items>
                </ComboBox>

                <Button text="Open Report"
                        onAction="#handleOpenReportWindow"
                        style="-fx-background-color: #0ea5e9;
                               -fx-text-fill: white;
                               -fx-font-weight: bold;
                               -fx-background-radius: 20;
                               -fx-padding: 8 18 8 18;" />
            </HBox>

            <!-- ================= TABLE SECTION ================= -->
            <VBox VBox.vgrow="ALWAYS"
                  style="-fx-background-color: white;
                         -fx-padding: 20;
                         -fx-background-radius: 20;
                         -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 15, 0.2, 0, 4);">

                <Label text="Registered Students"
                       style="-fx-font-size: 20px;
                              -fx-font-weight: bold;
                              -fx-text-fill: #2563eb;" />

                <TableView fx:id="studentTable"
                           VBox.vgrow="ALWAYS"
                           style="-fx-background-radius: 10;">

                    <columns>
                        <TableColumn fx:id="colId" text="Reg ID" prefWidth="100"/>
                        <TableColumn fx:id="colName" text="Student Name" prefWidth="150"/>
                        <TableColumn fx:id="colProgramme" text="Course" prefWidth="120"/>
                        <TableColumn fx:id="colLevel" text="Year" prefWidth="80"/>
                        <TableColumn fx:id="colGpa" text="Score" prefWidth="80"/>
                        <TableColumn fx:id="colStatus" text="Status" prefWidth="100"/>
                    </columns>

                </TableView>

            </VBox>

        </VBox>
    </center>

</BorderPane>